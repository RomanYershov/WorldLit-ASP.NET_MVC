

@{
    ViewBag.Title = "Categories";
}

<h2>Categories</h2>

<category></category>

<template id="category-template">
    <div class="well">
        <p>
            <a href="#" class="btn btn-success glyphicon glyphicon-plus" value="" data-bind="click:showCategoryForm"> </a>
        </p>
        <form style="padding-bottom: 15px;" class="form-inline" data-bind="visible:isAddCategory, submit: addCategory">
            <div style="color: black;" class="label control-label">New category Name: </div>
            <input type="text" class="form-control" data-bind="value: newCategoryName, valueUpdate: 'afterkeydown'" />
            <span style="color: red;" data-bind="visible: newCategoryName.hasError, text:newCategoryName.validationMessage"></span>
            <input type="submit" class="btn btn-sm btn-success" value="Add" />
        </form>
                <table class="table">
            <tr>
                <th>
                    Категории
                </th>
                <th></th>
            </tr>

            <!--ko foreach: foodCategories-->
            <tr>
                <td>
                    <input type="text" data-bind="value:name, enable: isEdit"/>
                    <a href="#" class="btn btn-sm glyphicon glyphicon-check"  data-bind="visible:isEdit, click: $parent.editCategory"/>
                </td>
                <td>
                    <a href="#" data-bind="click: $parent.editCategory, visible: !isEdit()">Edit</a>
                    <a href="#" data-bind="click: $parent.editCancel, visible: isEdit">Cancel</a> |
                    <a href="#" data-bind="click:$parent.deleteCategory">Delete</a>
                </td>
            </tr>
            <!--/ko-->

        </table>

    </div>
</template>



@section scripts
{
    @Scripts.Render("/Scripts/models/food-category-view-model.js")
    <script>
        $(document).ready(function () {
            ko.applyBindings();
        });
    </script>
}
